<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"


xmlns:ui="http://java.sun.com/jsf/facelets"
    template="layout.xhtml"
     xmlns:p="http://primefaces.org/ui"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    >
   
    
    <ui:define name="menu">
    	<ui:include src="testando.xhtml"></ui:include>
    </ui:define>
    
  
    <ui:define name="conteudo">


<style>

.div1{
float:right;



}
.titulo{
padding:10px;

}





</style>


<p:growl id="mensagem"></p:growl> 
<fieldset>
	  <h:form id="pesquisa">
    	<h:outputText value="FILTRAR PRODUTOS  " class="titulo"> </h:outputText>
    	<p:inputText value="#{MBprodutos.nomeBusca}" id="input" placeholder="Nome produto.." ></p:inputText><p:commandButton actionListener="#{MBprodutos.pesquisarNome}"  icon="ui-icon-search" update=":formProdutos:data :pesquisa" action="#{MBprodutos.limpar}"  /><p:commandButton  icon="ui-icon-refresh" actionListener="#{MBprodutos.pesquisarTodos}"  update=":formProdutos:data :pesquisa" action="{MBprodutos.limpar}"/>
    	</h:form>
    	</fieldset>
    <h:form id="formProdutos">
  	
    	<p:dataTable   id="data" widgetVar="tabelinha" emptyMessage="Nenhum dado registrado"  value="#{MBprodutos.itens}" filteredValue="#{MBprodutos.itensFiltrados}" var="item" paginator="true" rows="5" >
    	
    	
    	<f:facet name="header">
    	    <h:outputText value="LISTA DE PRODUTOS CADASTRADOS"></h:outputText>
    	
    	</f:facet>
    	
    	
    	<p:column headerText="ID" ><h:outputLabel value="#{item.id}" ></h:outputLabel></p:column>
    	<p:column headerText="NOME" ><h:outputLabel value="#{item.nome}"></h:outputLabel></p:column>
    	
    	<p:column headerText="DESCRIÇÃO" ><h:outputLabel value="#{item.descricao}"></h:outputLabel></p:column>
    	<p:column headerText="PREÇO"><h:outputLabel value="#{item.preco}"></h:outputLabel></p:column>
    	
    	<p:column headerText="LABORATÓRIO" ><h:outputLabel value="#{item.laboratorio}"></h:outputLabel></p:column>
    	<p:column headerText="Opções">
    	
    	
    	
    	
    	<p:commandButton icon="ui-icon-trash"  oncomplete="PF('excluir').show();"  update=":formExcluir :mensagem"> <f:setPropertyActionListener target="#{MBprodutos.produtos}"  value="#{item}"/></p:commandButton> 
    	
    	<p:commandButton icon="ui-icon-pencil" oncomplete="PF('editar').show();"  update=":formEditar :mensagem"> <f:setPropertyActionListener target="#{MBprodutos.produtos}"  value="#{item}"/></p:commandButton>
    	
    	
    	
    	</p:column>
    	
    	<f:facet name="footer">
    	
    	   	<div class="div1"></div> <p:commandButton value ="ADICIONAR"  actionListener="#{MBprodutos.prepararNovo}" oncomplete="PF('dialogo').show();" update=":formProduto2"></p:commandButton>
    	
    	</f:facet>
    	
    	</p:dataTable>
    	</h:form>
    	
    	
		<p:dialog header="ADICIONAR PRODUTO" widgetVar="dialogo" height="220" closable="false" draggable="false" resizable="false" modal="true" appendTo="@(body)" id="cadastra">
			
			
			<h:form id="formProduto2">

			
			
					<h:outputText value="NOME:" />
    				<br></br><p:inputText size="30" value="#{MBprodutos.produtos.valorNome}" id="nome" /> 
    	
    	
    	
    				<br></br><h:outputText value="DESCRIÇÃO:" />
    				<br></br><p:inputText size="30" value="#{MBprodutos.produtos.valorDescricao}" />
    				
    				
    				
    				<br></br><h:outputText value="PREÇO:" />
    				<br></br><p:inputText size="30" value="#{MBprodutos.produtos.valorPreco}" />
    				
    				
    				<br></br><h:outputText value="LABORATÓRIO" />
    				<br></br><p:inputText size="30" value="#{MBprodutos.produtos.valorLaboratorio}" />
    			
    	
    	
    	
    			
    	
    				<br></br><p:commandButton value="SALVAR" actionListener="#{MBprodutos.adicionar}"  update=":formProdutos:data :mensagem" onclick="PF('dialogo').hide()"/>
    				<br></br><p:commandButton value="CANCELAR" onclick="PF('dialogo').hide()"  ></p:commandButton>
    	
    	
    	
    		
			
			
			
			
			
			
			</h:form>
				
    	
    	
    	
	</p:dialog> 



<p:dialog header="EXCLUIR PRODUTO" widgetVar="excluir" height="220" closable="false" draggable="false" resizable="false" modal="true" appendTo="@(body)" id="excluir">
			
			
	<h:form id="formExcluir">
	
	
		<fieldset>
		
		<h:outputText value="NOME: " />
		<h:outputText value="#{MBprodutos.produtos.nome}"></h:outputText>
		
		
		<br></br><br></br><h:outputText value="DESCRIÇÃO: " />
		<h:outputText value="#{MBprodutos.produtos.descricao}"></h:outputText>
		
		
		
		<br></br><br></br><h:outputText value="LABORATÓRIO: " />
		<h:outputText value="#{MBprodutos.produtos.laboratorio}" />
		
		
		<br></br><br></br><h:outputText value="PREÇO: " />	
		<h:outputText value="#{MBprodutos.produtos.preco}"></h:outputText>
		
		
	</fieldset>
		<br></br><br></br><h:panelGrid>
		
		
		
		<p:commandButton value="EXCLUIR" actionListener="#{MBprodutos.excluir}" oncomplete="PF('excluir').hide(); " update=":formProdutos:data :mensagem"></p:commandButton>
		<p:commandButton value="CANCELAR"  onclick="PF('excluir').hide()"></p:commandButton>		
		</h:panelGrid>
	
	
	</h:form>
			
			
</p:dialog>



<p:dialog header="EDITAR PRODUTO" widgetVar="editar" height="220" closable="false" draggable="false" resizable="false" modal="true" appendTo="@(body)" >







		
	<h:form id="formEditar">
	
	
		<fieldset>
		
		<h:outputText value="NOME: " />
		<p:inputText value="#{MBprodutos.produtos.nome}" />
		
		
		<br></br><br></br><h:outputText value="DESCRIÇÃO: " />
		<p:inputText value="#{MBprodutos.produtos.descricao}" />
		
		
		
		<br></br><br></br><h:outputText value="LABORATÓRIO: " />
		<p:inputText value="#{MBprodutos.produtos.laboratorio}" />
		
		
		<br></br><br></br><h:outputText value="PREÇO: " />	
		<p:inputText value="#{MBprodutos.produtos.preco}" />
		
		
	</fieldset>
		<br></br><br></br><h:panelGrid>
		
		
		
		<p:commandButton value="EDITAR" actionListener="#{MBprodutos.editar}" oncomplete="PF('editar').hide(); " update=":formProdutos:data :mensagem"></p:commandButton>
		<p:commandButton value="CANCELAR"  onclick="PF('editar').hide()"></p:commandButton>		
		</h:panelGrid>
	
	
	</h:form>





</p:dialog>

<script>

function apagar(){
	
	var pegar = document.getElementById('input')
	pegar.value="";
	
	
}


</script>


    </ui:define>
    
    
     <ui:define name="conteudo-oeste">
    	<ui:include src="card.xhtml"></ui:include>
    </ui:define>
    
</ui:composition>
